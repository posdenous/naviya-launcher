<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Naviya Elder Launcher - Interactive Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .phone-container {
            width: 375px;
            height: 812px;
            background: #000;
            border-radius: 40px;
            padding: 8px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            background: #f8f9fa;
            border-radius: 32px;
            overflow: hidden;
            position: relative;
        }

        .status-bar {
            height: 44px;
            background: #2c5aa0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            color: white;
            font-size: 14px;
            font-weight: 500;
        }

        .launcher-header {
            background: #2c5aa0;
            color: white;
            padding: 20px;
            text-align: center;
        }

        .launcher-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .mode-indicator {
            font-size: 16px;
            opacity: 0.9;
            background: rgba(255,255,255,0.2);
            padding: 6px 12px;
            border-radius: 16px;
            display: inline-block;
        }

        .main-content {
            padding: 30px 20px;
            height: calc(100% - 144px);
            overflow-y: auto;
        }

        .emergency-section {
            margin-bottom: 30px;
        }

        .sos-button {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #ff4757 0%, #c44569 100%);
            border: none;
            border-radius: 60px;
            color: white;
            font-size: 18px;
            font-weight: bold;
            margin: 0 auto;
            display: block;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(255, 71, 87, 0.3);
            position: relative;
        }

        .sos-button:hover {
            transform: scale(1.05);
            box-shadow: 0 12px 30px rgba(255, 71, 87, 0.4);
        }

        .sos-button:active {
            transform: scale(0.95);
        }

        .sos-button.activated {
            animation: pulse 1s infinite;
            background: linear-gradient(135deg, #ff3742 0%, #b83253 100%);
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .unread-tile {
            background: white;
            border-radius: 16px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            border-left: 4px solid #2c5aa0;
        }

        .unread-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .unread-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c5aa0;
        }

        .unread-count {
            background: #ff4757;
            color: white;
            border-radius: 12px;
            padding: 4px 8px;
            font-size: 14px;
            font-weight: bold;
            min-width: 24px;
            text-align: center;
        }

        .unread-details {
            font-size: 16px;
            color: #666;
            line-height: 1.4;
        }

        .app-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .app-tile {
            background: white;
            border-radius: 16px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            min-height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .app-tile:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.15);
        }

        .app-icon {
            font-size: 32px;
            margin-bottom: 8px;
        }

        .app-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
        }

        .caregiver-status {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(44, 90, 160, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 14px;
            backdrop-filter: blur(10px);
        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 300px;
            text-align: center;
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .modal-title {
            font-size: 24px;
            font-weight: bold;
            color: #ff4757;
            margin-bottom: 15px;
        }

        .modal-text {
            font-size: 16px;
            color: #666;
            margin-bottom: 20px;
            line-height: 1.4;
        }

        .emergency-levels {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 20px 0;
        }

        .emergency-level {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 12px;
            padding: 12px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .emergency-level:hover {
            border-color: #ff4757;
            background: #fff5f5;
        }

        .emergency-level.selected {
            border-color: #ff4757;
            background: #ff4757;
            color: white;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #2c5aa0;
            color: white;
        }

        .btn-primary:hover {
            background: #1e3a8a;
        }

        .btn-secondary {
            background: #e9ecef;
            color: #666;
        }

        .btn-secondary:hover {
            background: #dee2e6;
        }

        .panic-mode {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(255, 71, 87, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 16px;
            font-size: 12px;
            font-weight: bold;
            display: none;
            backdrop-filter: blur(10px);
        }

        .accessibility-info {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 16px;
            font-size: 12px;
            display: none;
        }

        .voice-button {
            position: fixed;
            bottom: 140px;
            right: 20px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, #4ecdc4 0%, #44a08d 100%);
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(78, 205, 196, 0.3);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .voice-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(78, 205, 196, 0.4);
        }

        .voice-button.listening {
            animation: voicePulse 1.5s infinite;
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
        }

        @keyframes voicePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.2); }
            100% { transform: scale(1); }
        }

        .voice-feedback {
            position: fixed;
            bottom: 210px;
            right: 20px;
            background: rgba(78, 205, 196, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 16px;
            font-size: 14px;
            display: none;
            max-width: 200px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        /* Responsive Design */
        @media (max-width: 480px) {
            .phone-container {
                width: 100%;
                height: 100vh;
                border-radius: 0;
                padding: 0;
            }
            
            .screen {
                border-radius: 0;
            }
            
            body {
                padding: 0;
            }
        }

        @media (min-width: 768px) {
            body {
                background: #f0f2f5;
                flex-direction: row;
                gap: 40px;
            }
            
            .info-panel {
                width: 400px;
                background: white;
                border-radius: 20px;
                padding: 30px;
                box-shadow: 0 10px 30px rgba(0,0,0,0.1);
                height: fit-content;
            }
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <div class="status-bar">
                <span>9:41</span>
                <span>Naviya</span>
                <span>100%</span>
            </div>
            
            <div class="launcher-header">
                <div class="launcher-title">🏥 Naviya</div>
                <div class="mode-indicator">COMFORT Mode</div>
            </div>
            
            <div class="main-content">
                <div class="emergency-section">
                    <button class="sos-button" id="sosButton">
                        🚨<br>SOS<br>HELP
                    </button>
                </div>
                
                <div class="unread-tile" id="unreadTile">
                    <div class="unread-header">
                        <div class="unread-title">📱 Unread</div>
                        <div class="unread-count" id="unreadCount">3</div>
                    </div>
                    <div class="unread-details" id="unreadDetails">
                        2 missed calls from Sarah<br>
                        1 text message from Dr. Smith
                    </div>
                </div>
                
                <div class="app-grid">
                    <div class="app-tile" onclick="openApp('phone')">
                        <div class="app-icon">📞</div>
                        <div class="app-name">Phone</div>
                    </div>
                    
                    <div class="app-tile" onclick="openApp('messages')">
                        <div class="app-icon">💬</div>
                        <div class="app-name">Messages</div>
                    </div>
                    
                    <div class="app-tile" onclick="openApp('photos')">
                        <div class="app-icon">📷</div>
                        <div class="app-name">Photos</div>
                    </div>
                    
                    <div class="app-tile" onclick="openApp('settings')">
                        <div class="app-icon">⚙️</div>
                        <div class="app-name">Settings</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="info-panel" style="display: none;">
        <h2>🏥 Naviya Demo Features</h2>
        <ul style="line-height: 2; margin: 20px 0;">
            <li><strong>SOS Button:</strong> Emergency activation</li>
            <li><strong>Unread Tile:</strong> Missed calls & messages</li>
            <li><strong>Large Touch Targets:</strong> 48dp minimum</li>
            <li><strong>High Contrast:</strong> Elderly-friendly colors</li>
            <li><strong>Triple-tap:</strong> Panic mode activation</li>
            <li><strong>Voice Commands:</strong> "Help me" support</li>
        </ul>
        
        <h3>🎯 Try These Interactions:</h3>
        <ul style="line-height: 2; margin: 20px 0;">
            <li>Press SOS button for emergency</li>
            <li>Triple-tap screen for panic mode</li>
            <li>Click unread tile to view details</li>
            <li>Tap apps to launch</li>
        </ul>
    </div>
    
    <div class="caregiver-status" id="caregiverStatus">
        👨‍👩‍👧‍👦 Caregiver: Online
    </div>
    
    <div class="panic-mode" id="panicMode">
        🔒 PANIC MODE ACTIVE
    </div>
    
    <div class="accessibility-info" id="accessibilityInfo">
        Triple-tap detected - Panic mode activated
    </div>
    
    <button class="voice-button" id="voiceButton" title="Voice Commands">
        🎤
    </button>
    
    <div class="voice-feedback" id="voiceFeedback">
        Listening...
    </div>
    
    <!-- Emergency Modal -->
    <div class="modal" id="emergencyModal">
        <div class="modal-content">
            <div class="modal-title">🚨 Emergency Help</div>
            <div class="modal-text">What type of help do you need?</div>
            
            <div class="emergency-levels">
                <div class="emergency-level" onclick="selectEmergencyLevel('help')">
                    <strong>HELP</strong><br>
                    <small>I need assistance</small>
                </div>
                <div class="emergency-level" onclick="selectEmergencyLevel('urgent')">
                    <strong>URGENT</strong><br>
                    <small>Medical emergency</small>
                </div>
                <div class="emergency-level" onclick="selectEmergencyLevel('emergency')">
                    <strong>EMERGENCY</strong><br>
                    <small>Call 911 immediately</small>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                <button class="btn btn-primary" id="confirmEmergency" onclick="confirmEmergency()" disabled>Send Alert</button>
            </div>
        </div>
    </div>
    
    <!-- App Modal -->
    <div class="modal" id="appModal">
        <div class="modal-content">
            <div class="modal-title" id="appTitle">📞 Phone</div>
            <div class="modal-text" id="appContent">
                This would open the Phone app with large, elderly-friendly interface.
            </div>
            <div class="modal-buttons">
                <button class="btn btn-primary" onclick="closeModal()">Close</button>
            </div>
        </div>
    </div>

    <script>
        let tapCount = 0;
        let tapTimer = null;
        let selectedEmergencyLevel = null;
        let panicModeActive = false;
        
        // SOS Button functionality
        document.getElementById('sosButton').addEventListener('click', function() {
            this.classList.add('activated');
            setTimeout(() => {
                this.classList.remove('activated');
                showEmergencyModal();
            }, 1000);
        });
        
        // Triple-tap detection for panic mode
        document.addEventListener('click', function(e) {
            tapCount++;
            
            if (tapCount === 1) {
                tapTimer = setTimeout(() => {
                    tapCount = 0;
                }, 500);
            } else if (tapCount === 3) {
                clearTimeout(tapTimer);
                tapCount = 0;
                activatePanicMode();
            }
        });
        
        function activatePanicMode() {
            if (panicModeActive) return;
            
            panicModeActive = true;
            document.getElementById('panicMode').style.display = 'block';
            document.getElementById('accessibilityInfo').style.display = 'block';
            
            // Change caregiver status
            document.getElementById('caregiverStatus').textContent = '🔒 Monitoring Disabled';
            document.getElementById('caregiverStatus').style.background = 'rgba(255, 71, 87, 0.9)';
            
            // Hide accessibility info after 3 seconds
            setTimeout(() => {
                document.getElementById('accessibilityInfo').style.display = 'none';
            }, 3000);
            
            // Simulate silent alert
            console.log('PANIC MODE: Silent alert sent to elder rights advocate');
        }
        
        function showEmergencyModal() {
            document.getElementById('emergencyModal').style.display = 'flex';
        }
        
        function selectEmergencyLevel(level) {
            // Remove previous selection
            document.querySelectorAll('.emergency-level').forEach(el => {
                el.classList.remove('selected');
            });
            
            // Add selection to clicked level
            event.target.classList.add('selected');
            selectedEmergencyLevel = level;
            
            // Enable confirm button
            document.getElementById('confirmEmergency').disabled = false;
        }
        
        function confirmEmergency() {
            if (!selectedEmergencyLevel) return;
            
            closeModal();
            
            // Simulate emergency response
            const responses = {
                'help': 'Assistance request sent to caregivers',
                'urgent': 'Medical alert sent to emergency contacts and medical services',
                'emergency': 'Emergency services contacted - Help is on the way'
            };
            
            // Show response
            setTimeout(() => {
                alert(`🚨 ${responses[selectedEmergencyLevel]}`);
            }, 500);
            
            selectedEmergencyLevel = null;
        }
        
        function openApp(appName) {
            const appTitles = {
                'phone': '📞 Phone',
                'messages': '💬 Messages',
                'photos': '📷 Photos',
                'settings': '⚙️ Settings'
            };
            
            const appContents = {
                'phone': 'Large buttons for easy dialing. Recent calls from family members shown prominently.',
                'messages': 'Text messages with large font. Voice-to-text support available.',
                'photos': 'Family photos organized by date. Easy sharing with caregivers.',
                'settings': 'Simple settings with large toggles. Emergency contacts management.'
            };
            
            document.getElementById('appTitle').textContent = appTitles[appName];
            document.getElementById('appContent').textContent = appContents[appName];
            document.getElementById('appModal').style.display = 'flex';
        }
        
        function closeModal() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.style.display = 'none';
            });
            
            // Reset emergency selection
            document.querySelectorAll('.emergency-level').forEach(el => {
                el.classList.remove('selected');
            });
            document.getElementById('confirmEmergency').disabled = true;
            selectedEmergencyLevel = null;
        }
        
        // Unread tile interaction
        document.getElementById('unreadTile').addEventListener('click', function() {
            const details = document.getElementById('unreadDetails');
            if (details.style.display === 'none') {
                details.style.display = 'block';
                this.style.borderLeftColor = '#51cf66';
            } else {
                details.style.display = 'none';
                this.style.borderLeftColor = '#2c5aa0';
            }
        });
        
        // Simulate real-time updates
        setInterval(() => {
            const count = Math.floor(Math.random() * 5);
            document.getElementById('unreadCount').textContent = count;
            
            if (count === 0) {
                document.getElementById('unreadDetails').textContent = 'No new messages';
                document.getElementById('unreadCount').style.background = '#51cf66';
            } else {
                document.getElementById('unreadCount').style.background = '#ff4757';
            }
        }, 10000);
        
        // Show info panel on desktop
        if (window.innerWidth >= 768) {
            document.querySelector('.info-panel').style.display = 'block';
        }
        
        // Voice-to-Text Implementation using Web Speech API
        let recognition;
        let isListening = false;
        
        // Initialize Speech Recognition
        if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
            recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
            recognition.lang = 'en-US';
            recognition.continuous = false;
            recognition.interimResults = false;
            recognition.maxAlternatives = 1;
            
            recognition.onstart = function() {
                isListening = true;
                document.getElementById('voiceButton').classList.add('listening');
                document.getElementById('voiceFeedback').style.display = 'block';
                document.getElementById('voiceFeedback').textContent = 'Listening...';
            };
            
            recognition.onresult = function(event) {
                const transcript = event.results[0][0].transcript.toLowerCase().trim();
                const confidence = event.results[0][0].confidence;
                
                console.log('Voice input:', transcript, 'Confidence:', confidence);
                
                // Show what was heard
                document.getElementById('voiceFeedback').textContent = `Heard: "${transcript}"`;
                
                // Process voice commands
                handleVoiceCommand(transcript);
                
                // Hide feedback after 3 seconds
                setTimeout(() => {
                    document.getElementById('voiceFeedback').style.display = 'none';
                }, 3000);
            };
            
            recognition.onerror = function(event) {
                console.error('Speech recognition error:', event.error);
                document.getElementById('voiceFeedback').textContent = 'Sorry, I didn\'t catch that';
                document.getElementById('voiceFeedback').style.background = 'rgba(255, 107, 107, 0.9)';
                
                setTimeout(() => {
                    document.getElementById('voiceFeedback').style.display = 'none';
                    document.getElementById('voiceFeedback').style.background = 'rgba(78, 205, 196, 0.9)';
                }, 2000);
            };
            
            recognition.onend = function() {
                isListening = false;
                document.getElementById('voiceButton').classList.remove('listening');
            };
        }
        
        // Voice button click handler
        document.getElementById('voiceButton').addEventListener('click', function() {
            if (!recognition) {
                alert('Voice recognition not supported in this browser');
                return;
            }
            
            if (isListening) {
                recognition.stop();
            } else {
                recognition.start();
            }
        });
        
        // Handle voice commands
        function handleVoiceCommand(transcript) {
            // Emergency commands
            if (transcript.includes('help me') || transcript.includes('emergency') || transcript.includes('sos')) {
                showEmergencyModal();
                return;
            }
            
            // Panic mode activation
            if (transcript.includes('panic') || transcript.includes('danger') || transcript.includes('abuse')) {
                activatePanicMode();
                return;
            }
            
            // App launching
            if (transcript.includes('call') || transcript.includes('phone')) {
                openApp('phone');
                return;
            }
            
            if (transcript.includes('message') || transcript.includes('text')) {
                openApp('messages');
                return;
            }
            
            if (transcript.includes('photo') || transcript.includes('picture')) {
                openApp('photos');
                return;
            }
            
            if (transcript.includes('setting')) {
                openApp('settings');
                return;
            }
            
            // Check unread
            if (transcript.includes('unread') || transcript.includes('missed') || transcript.includes('notification')) {
                document.getElementById('unreadTile').click();
                return;
            }
            
            // If no command matched
            document.getElementById('voiceFeedback').textContent = 'Command not recognized. Try "Help me" or "Call phone"';
            document.getElementById('voiceFeedback').style.background = 'rgba(255, 193, 7, 0.9)';
        }
        
        console.log('🏥 Naviya Launcher Demo Loaded');
        console.log('Features: SOS Button, Triple-tap Panic Mode, Voice Commands, Accessibility');
    </script>
</body>
</html>
