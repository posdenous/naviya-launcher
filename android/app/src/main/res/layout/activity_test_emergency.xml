<?xml version="1.0" encoding="utf-8"?>
<ScrollView xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:padding="16dp"
    android:background="#F5F5F5">

    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="wrap_content"
        android:orientation="vertical"
        android:gravity="center_horizontal">

        <!-- Header -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="🧪 Emergency System Test"
            android:textSize="24sp"
            android:textStyle="bold"
            android:textAlignment="center"
            android:textColor="#333333"
            android:layout_marginBottom="16dp" />

        <!-- SOS Button Test -->
        <com.naviya.launcher.emergency.ui.SOSButton
            android:id="@+id/test_sos_button"
            android:layout_width="120dp"
            android:layout_height="120dp"
            android:layout_marginBottom="24dp"
            android:contentDescription="Test SOS Button for Emergency System"
            android:elevation="8dp" />

        <!-- Status Text -->
        <TextView
            android:id="@+id/status_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Initializing tests..."
            android:textSize="16sp"
            android:textAlignment="center"
            android:textColor="#666666"
            android:background="#FFFFFF"
            android:padding="12dp"
            android:layout_marginBottom="16dp"
            android:elevation="2dp" />

        <!-- Test Control Buttons -->
        <LinearLayout
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:layout_marginBottom="16dp">

            <Button
                android:id="@+id/btn_setup_test_data"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="📋 Setup Test Data"
                android:textSize="16sp"
                android:backgroundTint="#4CAF50"
                android:textColor="#FFFFFF"
                android:layout_marginBottom="8dp"
                android:minHeight="48dp"
                android:contentDescription="Setup test emergency contacts and caregiver data" />

            <Button
                android:id="@+id/btn_test_database"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="🗄️ Test Database"
                android:textSize="16sp"
                android:backgroundTint="#2196F3"
                android:textColor="#FFFFFF"
                android:layout_marginBottom="8dp"
                android:minHeight="48dp"
                android:contentDescription="Test emergency database operations" />

            <Button
                android:id="@+id/btn_test_location"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="📍 Test Location"
                android:textSize="16sp"
                android:backgroundTint="#FF9800"
                android:textColor="#FFFFFF"
                android:layout_marginBottom="8dp"
                android:minHeight="48dp"
                android:contentDescription="Test location services for emergency" />

            <Button
                android:id="@+id/btn_test_notifications"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="📱 Test Notifications"
                android:textSize="16sp"
                android:backgroundTint="#9C27B0"
                android:textColor="#FFFFFF"
                android:layout_marginBottom="8dp"
                android:minHeight="48dp"
                android:contentDescription="Test caregiver notification system" />

            <Button
                android:id="@+id/btn_test_sos_flow"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="🚨 Test SOS Flow"
                android:textSize="16sp"
                android:backgroundTint="#F44336"
                android:textColor="#FFFFFF"
                android:layout_marginBottom="8dp"
                android:minHeight="48dp"
                android:contentDescription="Test complete emergency SOS activation flow" />

            <Button
                android:id="@+id/btn_test_accessibility"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="♿ Test Accessibility"
                android:textSize="16sp"
                android:backgroundTint="#607D8B"
                android:textColor="#FFFFFF"
                android:layout_marginBottom="8dp"
                android:minHeight="48dp"
                android:contentDescription="Test accessibility compliance for elderly users" />

            <Button
                android:id="@+id/btn_clear_test_data"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="🗑️ Clear Test Data"
                android:textSize="16sp"
                android:backgroundTint="#795548"
                android:textColor="#FFFFFF"
                android:minHeight="48dp"
                android:contentDescription="Clear all test emergency data" />

        </LinearLayout>

        <!-- Test Results -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Test Results"
            android:textSize="18sp"
            android:textStyle="bold"
            android:textColor="#333333"
            android:layout_marginBottom="8dp" />

        <TextView
            android:id="@+id/test_results_text"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="Run tests to see results here..."
            android:textSize="14sp"
            android:textColor="#666666"
            android:background="#FFFFFF"
            android:padding="16dp"
            android:fontFamily="monospace"
            android:elevation="2dp"
            android:layout_marginBottom="16dp" />

        <!-- Instructions -->
        <TextView
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:text="📖 Testing Instructions:\n\n1. Setup Test Data first\n2. Grant all permissions when prompted\n3. Run individual tests or use SOS button\n4. Check accessibility with TalkBack enabled\n5. Clear test data when finished"
            android:textSize="14sp"
            android:textColor="#666666"
            android:background="#E3F2FD"
            android:padding="16dp"
            android:layout_marginBottom="16dp" />

    </LinearLayout>

</ScrollView>
